<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" th:href="@{../admin/on.css?v=1}">
    <title>Login</title>
</head>
<style>
    .error-message {
    color: red;
    margin-top: 10px;
}

</style>
<body>

<h3>
</h3>
<div class="container">
    <main class="box">
        <section class="box-login" id="login">
            <!-- Login Form -->
            <form th:action="@{/student/login}" method="post">
                <header class="top-header">
                    <h3>Hello, Again!</h3>
                    <small>We are happy to have you.</small>
                </header>
                <div class="input-group">
                    <div class="input-field">
                        <input type="text" class="input-box" id="logEmail" required name="email">
                        <label for="logEmail">Email address</label>
                    </div>
                    <div class="input-field">
                        <input type="password" name="password" class="input-box" id="logPassword" required>
                        <label for="logPassword">Password</label>
                        <div class="eye-area">
                            <div class="eye-box" onclick="myLogPassword()">
                                <i class="fa-regular fa-eye" id="eye"></i>
                                <i class="fa-regular fa-eye-slash" id="eye-slash"></i>
                            </div>
                        </div>
                    </div>
                    <div class="remember">
                        <input type="checkbox" id="formCheck" class="check" name="remember">
                        <label for="formCheck">Remember Me</label>
                    </div>
                    <div class="input-field">
                        <input type="submit" class="input-submit" value="Sign In">
                    </div>
                    <div class="forgot">
                        <a href="#">Forgot password?</a>
                    </div>
                </div>
                <div th:if="${error}" class="error-message" th:text="${error}"></div>
            </form>
        </section>
            <!-- Register Form -->
        <!-- Register Form -->
        <section class="box-register" id="register">
            <form th:action="@{/students/register}" method="post">
                <header class="top-header">
                    <br>
                    <h3>Sign Up, Now!</h3>
                    <small>We are happy to have you with us.</small>
                </header>
                <div class="input-group">
                    <div class="input-field">
                        <input type="text" class="input-box" id="regFname" name="firstname" required>
                        <label for="regFname">First name</label>
                    </div>
                    <div class="input-field">
                        <input type="text" class="input-box" id="regLname" name="lastname" required>
                        <label for="regLname">Last name</label>
                    </div>
                    <div class="Gender">
                        &nbsp; &nbsp; <label for="male">Sex</label>
                        &nbsp; &nbsp; &nbsp;&nbsp;
                        <input type="radio" id="male" class="check" name="sex" value="Male" required>
                        <label for="male">Male</label>
                        &nbsp;&nbsp;
                        <input type="radio" id="female" class="check" name="sex" value="Female" required>
                        <label for="female">Female</label>
                    </div>
                    <div class="input-field">
                        <input type="email" class="input-box" id="regEmail" name="email" required>
                        <label for="regEmail">Email address</label>
                    </div>
                    <div class="input-field">
                        <input type="password" class="input-box" id="regPassword" name="password" required>
                        <label for="regPassword">Password</label>
                        <div class="eye-area">
                            <div class="eye-box" onclick="myRegPassword()">
                                <i class="fa-regular fa-eye" id="eye-2"></i>
                                <i class="fa-regular fa-eye-slash" id="eye-slash-2"></i>
                            </div>
                        </div>
                    </div>
                    <div class="input-field">
                        <input type="password" class="input-box" id="confirmPassword" name="confirmp" required>
                        <label for="confirmPassword">Confirm Password</label>
                        <div class="eye-area">
                            <div class="eye-box" onclick="confirmPassword()">
                                <i class="fa-regular fa-eye" id="eye-3"></i>
                                <i class="fa-regular fa-eye-slash" id="eye-slash-3"></i>
                            </div>
                        </div>
                    </div>
                    <div class="remember">
                        <input type="checkbox" id="regRemember" class="check" name="remember">
                        <label for="regRemember">Remember Me</label>
                    </div>
                    <div class="input-field">
                        <input type="submit" class="input-submit" value="Sign Up">
                    </div>
                </div>
            </form>
        </section>

        <!-- Logout Form -->
        <section class="box-logout" id="logout">
            <form th:action="@{/students/logout}" method="post">
                <input type="submit" value="Logout">
            </form>
        </section>

        <div class="switch">
            <a href="#" class="login active" onclick="login()">Login</a>
            <a href="#" class="register" onclick="register()">Register</a>
            <div class="btn-active" id="btn"></div>
        </div>
    </main>
</div>

<?php
        // Thymeleaf does not require PHP code, so this part is left unchanged.
        // You can replace this with Thymeleaf equivalent logic if needed.
        check_signup_errors();
    ?>


<script>

    var x = document.getElementById('login');
  var y = document.getElementById('register');
  var z = document.getElementById('btn');

  function login(){
      x.style.left = "27px";
      y.style.right = "-400px";
      z.style.left = "0px";
  }
  function register(){
      x.style.left = "-400px";
      y.style.right = "25px";
      z.style.left = "150px";
  }

// View Password codes

function myLogPassword() {
  var a = document.getElementById('logPassword');
  var b = document.getElementById('eye');
  var c = document.getElementById('eye-slash');
  if (a.type == "password") {
      a.type = "text";
      b.style.opacity = "0";
      c.style.opacity = "1";
  } else {
      a.type = "password";
      b.style.opacity = "1";
      c.style.opacity = "0";
  }
}

function myRegPassword() {
  var d = document.getElementById('regPassword');
  var b = document.getElementById('eye-2');
  var c = document.getElementById('eye-slash-2');
  if (d.type == "password") {
      d.type = "text";
      b.style.opacity = "0";
      c.style.opacity = "1";
  } else {
      d.type = "password";
      b.style.opacity = "1";
      c.style.opacity = "0";
  }
}

function confirmPassword() {
  var g = document.getElementById('confirmPassword');
  var b = document.getElementById('eye-3');
  var c = document.getElementById('eye-slash-3');
  if (g.type == "password") {
      g.type = "text";
      b.style.opacity = "0";
      c.style.opacity = "1";
  } else {
      g.type = "password";
      b.style.opacity = "1";
      c.style.opacity = "0";
  }
}
</script>
</body>
</html>
